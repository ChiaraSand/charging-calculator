<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Charging Power Chart Example</title>
    <link rel="stylesheet" href="../../css/main.css" />
    <link rel="stylesheet" href="../../css/examples.css" />
  </head>
  <body>
    <h1>Multi-Charging Power Chart</h1>
    <p>
      The charging calculator now displays multiple charging power curves on a
      single chart, allowing you to compare different charging scenarios
      side-by-side.
    </p>

    <div class="example">
      <h2>Chart Features</h2>
      <p>
        The enhanced chart now shows charging curves for all common charging
        power levels:
      </p>

      <div class="legend-demo">
        <div class="legend-item">
          <div class="legend-color" style="background: #2563eb"></div>
          <span>Ladeverlauf (realistisch)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #10b981"></div>
          <span>Lineare Sch√§tzung</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #dc2626"></div>
          <span>400 kW (Ultra-Schnelllader)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #f59e0b"></div>
          <span>300 kW (Hochleistungslader)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #8b5cf6"></div>
          <span>150 kW (Schnelllader)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #06b6d4"></div>
          <span>50 kW (DC Schnelllader)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #84cc16"></div>
          <span>22 kW (AC Wallbox)</span>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background: #f97316"></div>
          <span>11 kW (AC Wallbox)</span>
        </div>
      </div>
    </div>

    <div class="example">
      <h2>Charging Power Comparison</h2>
      <p>
        Here's how different charging powers affect the charging time for a
        Renault 5 E-Tech (52 kWh) charging from 20% to 80%:
      </p>

      <div class="comparison-grid">
        <div class="power-comparison">
          <div class="power-title">400 kW Ultra-Schnelllader</div>
          <div class="power-details">
            <strong>Time:</strong> ~18 minutes<br />
            <strong>Peak Power:</strong> 100.9 kW<br />
            <strong>Average Power:</strong> ~85 kW<br />
            <strong>Use Case:</strong> Long-distance travel
          </div>
        </div>

        <div class="power-comparison">
          <div class="power-title">300 kW Hochleistungslader</div>
          <div class="power-details">
            <strong>Time:</strong> ~20 minutes<br />
            <strong>Peak Power:</strong> 100.9 kW<br />
            <strong>Average Power:</strong> ~80 kW<br />
            <strong>Use Case:</strong> Highway charging
          </div>
        </div>

        <div class="power-comparison">
          <div class="power-title">150 kW Schnelllader</div>
          <div class="power-details">
            <strong>Time:</strong> ~25 minutes<br />
            <strong>Peak Power:</strong> 100.9 kW<br />
            <strong>Average Power:</strong> ~65 kW<br />
            <strong>Use Case:</strong> City charging
          </div>
        </div>

        <div class="power-comparison">
          <div class="power-title">50 kW DC Schnelllader</div>
          <div class="power-details">
            <strong>Time:</strong> ~45 minutes<br />
            <strong>Peak Power:</strong> 50 kW<br />
            <strong>Average Power:</strong> ~45 kW<br />
            <strong>Use Case:</strong> Shopping centers
          </div>
        </div>

        <div class="power-comparison">
          <div class="power-title">22 kW AC Wallbox</div>
          <div class="power-details">
            <strong>Time:</strong> ~2.5 hours<br />
            <strong>Peak Power:</strong> 22 kW<br />
            <strong>Average Power:</strong> ~20 kW<br />
            <strong>Use Case:</strong> Home/work charging
          </div>
        </div>

        <div class="power-comparison">
          <div class="power-title">11 kW AC Wallbox</div>
          <div class="power-details">
            <strong>Time:</strong> ~5 hours<br />
            <strong>Peak Power:</strong> 11 kW<br />
            <strong>Average Power:</strong> ~10 kW<br />
            <strong>Use Case:</strong> Overnight charging
          </div>
        </div>
      </div>
    </div>

    <div class="benefits">
      <h3>Benefits of Multi-Power Chart</h3>
      <ul>
        <li>
          <strong>Visual Comparison:</strong> See how different charging powers
          affect charging time at a glance
        </li>
        <li>
          <strong>Planning Tool:</strong> Compare available charging options for
          your route
        </li>
        <li>
          <strong>Cost Analysis:</strong> Understand the time-cost trade-off
          between different charging speeds
        </li>
        <li>
          <strong>Realistic Expectations:</strong> See actual charging curves
          instead of linear estimates
        </li>
        <li>
          <strong>Vehicle-Specific:</strong> Curves are tailored to your
          selected vehicle's charging characteristics
        </li>
        <li>
          <strong>Interactive:</strong> Hover over data points to see exact
          values
        </li>
      </ul>
    </div>

    <div class="example">
      <h2>How It Works</h2>
      <p>
        The chart calculates charging curves for each power level using the
        vehicle's specific charging characteristics:
      </p>

      <ol>
        <li>
          <strong>Vehicle Selection:</strong> Choose your vehicle from the
          dropdown
        </li>
        <li>
          <strong>Power Calculation:</strong> For each charging power, the
          system calculates the actual charging speed at each battery level
        </li>
        <li>
          <strong>Time Calculation:</strong> Determines how long it takes to
          charge from current to target level
        </li>
        <li>
          <strong>Curve Generation:</strong> Creates smooth curves showing
          battery level over time
        </li>
        <li>
          <strong>Visualization:</strong> Displays all curves on a single chart
          for easy comparison
        </li>
      </ol>

      <div class="chart-simulation">
        <h4>Chart Simulation</h4>
        <p>
          The chart shows charging progress over time, with each line
          representing a different charging power. The steeper the line, the
          faster the charging. Notice how:
        </p>
        <ul>
          <li>
            High-power chargers (400kW, 300kW) show steep initial curves but
            taper off at higher battery levels
          </li>
          <li>Medium-power chargers (150kW, 50kW) have more gradual curves</li>
          <li>
            Low-power chargers (22kW, 11kW) show nearly linear charging curves
          </li>
          <li>
            All curves eventually converge as the battery approaches full charge
          </li>
        </ul>
      </div>
    </div>

    <div class="example">
      <h2>Practical Use Cases</h2>

      <h3>Trip Planning</h3>
      <p>
        When planning a long journey, you can quickly see which charging stops
        will be most efficient:
      </p>
      <ul>
        <li>Use 400kW chargers for quick top-ups (20-50%)</li>
        <li>Use 150kW chargers for longer stops (50-80%)</li>
        <li>Avoid 50kW chargers unless necessary</li>
      </ul>

      <h3>Cost Optimization</h3>
      <p>Compare the time-cost trade-off between different charging speeds:</p>
      <ul>
        <li>Faster charging = higher cost per kWh but less time</li>
        <li>Slower charging = lower cost per kWh but more time</li>
        <li>Find the optimal balance for your needs</li>
      </ul>

      <h3>Charging Strategy</h3>
      <p>
        Develop an optimal charging strategy based on your vehicle's
        characteristics:
      </p>
      <ul>
        <li>Charge to 80% on high-power chargers for efficiency</li>
        <li>Use slower chargers for longer stops (shopping, dining)</li>
        <li>
          Plan charging stops around your vehicle's optimal charging range
        </li>
      </ul>
    </div>

    <script>
      // Simulate the chart data calculation
      console.log("Multi-Charging Power Chart Simulation");
      console.log("====================================");

      const vehicleData = {
        20: 100.9,
        30: 96.1,
        50: 75.9,
        70: 59.7,
        80: 41.9,
      };

      const chargingPowers = [400, 300, 150, 50, 22, 11];
      const batteryCapacity = 52; // kWh
      const currentLevel = 20;
      const targetLevel = 80;

      console.log(
        `Charging from ${currentLevel}% to ${targetLevel}% on different chargers:`
      );
      console.log("Charger Power | Total Time | Avg Power | Efficiency");
      console.log("-------------|------------|-----------|----------");

      chargingPowers.forEach((power) => {
        // Simulate charging time calculation
        let totalTime = 0;
        let totalEnergy = 0;

        for (let level = currentLevel; level < targetLevel; level += 10) {
          const actualPower = Math.min(
            vehicleData[level] || power * 0.8,
            power
          );
          const energyFor10Percent = (batteryCapacity * 10) / 100;
          const timeFor10Percent = (energyFor10Percent / actualPower) * 60;

          totalTime += timeFor10Percent;
          totalEnergy += energyFor10Percent;
        }

        const avgPower = totalEnergy / (totalTime / 60);
        const efficiency = ((avgPower / power) * 100).toFixed(0);

        console.log(
          `${power} kW        | ${totalTime.toFixed(
            1
          )} min    | ${avgPower.toFixed(1)} kW   | ${efficiency}%`
        );
      });
    </script>
  </body>
</html>
